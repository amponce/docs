---
title: "API Reference"
sidebarTitle: "Overview"
description: "Complete REST API reference for the Relay Agent voice AI engine"
---

## Base URL

All API requests are made to:

```
https://api.relayagent.com
```

All endpoints are versioned under the `/v1/` path prefix. For example:

```
https://api.relayagent.com/v1/agents
```

## Authentication

Every API request must include a valid API key in the `Authorization` header:

```
Authorization: Bearer ra_aBcDeFgHiJkLmNoPqRsTuVwXyZ...
```

API keys are workspace-scoped. All resources returned by the API are filtered to the workspace associated with your key. See the [API Keys](/console/api-keys) page for instructions on creating and managing keys.

<Note>
Console endpoints under `/console/` use session-based authentication (cookies) instead of API keys. These endpoints power the admin UI and are not intended for programmatic use.
</Note>

## Content Type

All request and response bodies use JSON. Include the `Content-Type` header on requests with a body:

```
Content-Type: application/json
```

The exception is file upload endpoints (e.g., knowledge base file upload), which accept `multipart/form-data` with a 50 MB size limit.

## Pagination

List endpoints support pagination through `limit` and `offset` query parameters:

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `limit` | integer | 50 | Maximum number of items to return (1-100) |
| `offset` | integer | 0 | Number of items to skip |

Paginated responses include a `hasMore` boolean indicating whether additional results exist:

```json
{
  "data": [...],
  "hasMore": true
}
```

<CodeGroup>
```bash First page
curl "https://api.relayagent.com/v1/agents?limit=20&offset=0" \
  -H "Authorization: Bearer ra_..."
```

```bash Second page
curl "https://api.relayagent.com/v1/agents?limit=20&offset=20" \
  -H "Authorization: Bearer ra_..."
```
</CodeGroup>

## Error Format

All errors follow a consistent structure:

```json
{
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Agent name is required"
  }
}
```

| Field | Type | Description |
|-------|------|-------------|
| `error.code` | string | Machine-readable error code |
| `error.message` | string | Human-readable description |

## HTTP Status Codes

| Code | Meaning | When It Happens |
|------|---------|-----------------|
| `200` | OK | Successful read or update |
| `201` | Created | Resource successfully created |
| `204` | No Content | Successful deletion or action with no response body |
| `400` | Bad Request | Invalid request body, missing required fields, or validation failure |
| `401` | Unauthorized | Missing, invalid, or revoked API key |
| `403` | Forbidden | Valid credentials but insufficient permissions (RBAC) |
| `404` | Not Found | Resource does not exist or belongs to a different workspace |
| `409` | Conflict | Duplicate resource (e.g., agent with same name, slug already taken) |
| `429` | Too Many Requests | Rate limit exceeded. Retry after the period indicated in response headers. |
| `500` | Internal Server Error | Unexpected server error. Contact support with the request ID. |

## Rate Limiting

API requests are rate-limited to protect service stability. The default limit is **100 requests per minute** per API key. Specific endpoints may have different limits.

When you exceed the rate limit, the API returns `429 Too Many Requests`. Rate limit headers are included in every response:

```
X-RateLimit-Limit: 100
X-RateLimit-Remaining: 42
X-RateLimit-Reset: 1707400000
```

<Tip>
If you are hitting rate limits, consider batching operations or adding delays between requests. Contact support if you need higher limits for production workloads.
</Tip>

## Request IDs

Every API response includes a unique request ID for tracing and support purposes. Include this ID when contacting support about a specific request:

```
X-Request-Id: req_abc123xyz
```

## Versioning

All endpoints are versioned under `/v1/`. There are currently no other API versions. When breaking changes are introduced, they will be released under a new version prefix (e.g., `/v2/`) with a migration period.

Non-breaking changes (new fields, new endpoints) are added to `/v1/` without a version bump.

## Endpoint Reference

### Agents

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/v1/agents` | Create a new agent |
| `GET` | `/v1/agents` | List all agents |
| `GET` | `/v1/agents/:id` | Get a specific agent |
| `PATCH` | `/v1/agents/:id` | Update an agent |
| `DELETE` | `/v1/agents/:id` | Delete an agent |
| `POST` | `/v1/agents/:id/publish` | Publish an agent (make callable) |
| `POST` | `/v1/agents/:id/unpublish` | Unpublish an agent |

### Agent Versions

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/v1/agents/:agentId/versions` | List version history |
| `GET` | `/v1/agents/:agentId/versions/:version` | Get a specific version |
| `POST` | `/v1/agents/:agentId/versions/:version/activate` | Activate a version |
| `POST` | `/v1/agents/:agentId/versions/:version/rollback` | Rollback to a version |

### Compositions (Multi-Agent)

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/v1/agents/compose` | Create a composition |
| `GET` | `/v1/agents/composed` | List all compositions |
| `GET` | `/v1/agents/composed/:id` | Get a specific composition |
| `PATCH` | `/v1/agents/composed/:id` | Update a composition |
| `DELETE` | `/v1/agents/composed/:id` | Delete a composition |

### Calls

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/v1/calls/phone` | Start an outbound phone call |
| `POST` | `/v1/calls/web` | Start a web call (returns WebSocket token) |
| `GET` | `/v1/calls` | List all calls |
| `GET` | `/v1/calls/:id` | Get call details |
| `POST` | `/v1/calls/:id/whisper` | Send a whisper to the agent mid-call |
| `POST` | `/v1/calls/:id/interject` | Interject as a human mid-call |
| `POST` | `/v1/calls/:id/terminate` | Terminate a call |
| `GET` | `/v1/calls/web-stream` | WebSocket endpoint for web call audio |

### Knowledge Bases

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/v1/knowledge-bases` | Create a knowledge base |
| `GET` | `/v1/knowledge-bases` | List knowledge bases |
| `GET` | `/v1/knowledge-bases/:id` | Get a specific knowledge base |
| `PATCH` | `/v1/knowledge-bases/:id` | Update a knowledge base |
| `DELETE` | `/v1/knowledge-bases/:id` | Delete a knowledge base |
| `GET` | `/v1/knowledge-bases/:id/files` | List files in a knowledge base |
| `POST` | `/v1/knowledge-bases/:id/files` | Add a file by URL |
| `POST` | `/v1/knowledge-bases/:id/files/upload` | Upload a file (multipart) |
| `DELETE` | `/v1/knowledge-bases/:id/files/:fileId` | Delete a file |
| `POST` | `/v1/knowledge-bases/:id/query` | Query the knowledge base (RAG) |

### Campaigns

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/v1/campaigns` | Create a campaign |
| `GET` | `/v1/campaigns` | List campaigns |
| `GET` | `/v1/campaigns/:id` | Get campaign details |
| `PATCH` | `/v1/campaigns/:id` | Update a campaign |
| `POST` | `/v1/campaigns/:id/start` | Start a campaign |
| `POST` | `/v1/campaigns/:id/pause` | Pause a running campaign |
| `POST` | `/v1/campaigns/:id/resume` | Resume a paused campaign |
| `POST` | `/v1/campaigns/:id/cancel` | Cancel a campaign |
| `GET` | `/v1/campaigns/:id/results` | Get campaign results |
| `POST` | `/v1/campaigns/:id/contacts` | Add contacts to a campaign |
| `DELETE` | `/v1/campaigns/:id` | Delete a campaign |

### A/B Tests

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/v1/ab-tests` | Create an A/B test |
| `GET` | `/v1/ab-tests` | List A/B tests |
| `GET` | `/v1/ab-tests/:id` | Get A/B test details |
| `PATCH` | `/v1/ab-tests/:id` | Update an A/B test |
| `POST` | `/v1/ab-tests/:id/start` | Start an A/B test |
| `POST` | `/v1/ab-tests/:id/promote` | Promote the winning variant |
| `DELETE` | `/v1/ab-tests/:id` | Delete an A/B test |

### Phone Numbers

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/v1/phone-numbers` | Register an existing phone number |
| `GET` | `/v1/phone-numbers` | List phone numbers |
| `GET` | `/v1/phone-numbers/available` | Search available numbers for purchase |
| `POST` | `/v1/phone-numbers/provision` | Buy and configure a new number |
| `GET` | `/v1/phone-numbers/:id` | Get phone number details |
| `PATCH` | `/v1/phone-numbers/:id` | Update phone number configuration |
| `DELETE` | `/v1/phone-numbers/:id` | Release a phone number |

### Usage

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/v1/usage` | Get usage summary for the workspace |
| `GET` | `/v1/usage/daily` | Get daily usage breakdown |
| `GET` | `/v1/usage/by-agent` | Get usage breakdown by agent |

### DevTools

| Method | Endpoint | Description |
|--------|----------|-------------|
| `GET` | `/v1/calls/:id/inspect` | WebSocket endpoint for live call inspection |

### Webhooks (Twilio)

| Method | Endpoint | Description |
|--------|----------|-------------|
| `POST` | `/v1/webhooks/twilio/voice` | Twilio inbound voice webhook |
| `POST` | `/v1/webhooks/twilio/outbound-voice` | Twilio outbound voice webhook |
| `POST` | `/v1/webhooks/twilio/status` | Twilio call status callback |
| `GET` | `/v1/webhooks/twilio/media-stream` | Twilio inbound media stream (WebSocket) |
| `GET` | `/v1/webhooks/twilio/outbound-media-stream` | Twilio outbound media stream (WebSocket) |

<Tip>
Webhook endpoints are called by Twilio, not by your application directly. Configure these URLs in your Twilio phone number settings or let the `/v1/phone-numbers/provision` endpoint auto-configure them.
</Tip>
